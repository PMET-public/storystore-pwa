#import "./_prices.graphql"
#import "./_product.graphql"

query CartQuery($cartId: String!, $pageId: Int, $withPage: Boolean!) {
    cart(cart_id: $cartId) {
        ...Prices

        items {
            ... on SimpleCartItem {
                id
                quantity
                product {
                    ...Product
                }
            }

            ... on ConfigurableCartItem {
                id
                quantity
                product {
                    ...Product
                }

                options: configurable_options {
                    id
                    label: option_label
                    value: value_label
                }
            }
        }
    }

    page: cmsPage(id: $pageId) @include(if: $withPage) {
        title
        content
        metaDescription: meta_description
        metaKeywords: meta_keywords
        metaTitle: meta_title
    }

    store: storeConfig {
        id
        titlePrefix: title_prefix
        titleSuffix: title_suffix
    }
}
