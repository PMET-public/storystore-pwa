#import "./_BillingAddress.graphql"
#import "./_ShippingAddresses.graphql"

mutation SetContactInfo($cartId: String = "", $email: String!, $address: CartAddressInput!) {
    cartId @client @export(as: "cartId")

    # Set Email Address
    email: setGuestEmailOnCart(input: { cart_id: $cartId, email: $email }) {
        cart {
            email
        }
    }

    # Set Billing
    billingAddress: setBillingAddressOnCart(input: { cart_id: $cartId, billing_address: { address: $address } }) {
        cart {
            ...BillingAddress
        }
    }

    # and Shipping Address
    shippingAddresses: setShippingAddressesOnCart(
        input: { cart_id: $cartId, shipping_addresses: [{ address: $address }] }
    ) {
        cart {
            ...ShippingAddresses
        }
    }
}
