query searchQuery($search: String, $filters: ProductAttributeFilterInput, $pageSize: Int = 10, $currentPage: Int = 1) {
    store: storeConfig {
        id
        productUrlSuffix: product_url_suffix
    }

    products: products(search: $search, filter: $filters, pageSize: $pageSize, currentPage: $currentPage) {
        pagination: page_info {
            current: current_page
            total: total_pages
        }

        count: total_count

        items @connection(key: "items") {
            id
            title: name
            urlKey: url_key

            image {
                alt: label
                src: url
            }

            price: price_range {
                minimum: minimum_price {
                    discount {
                        amountOff: amount_off
                    }
                    regular: regular_price {
                        value
                        currency
                    }
                    final: final_price {
                        value
                        currency
                    }
                }
                maximum: maximum_price {
                    regular: regular_price {
                        value
                        currency
                    }
                }
            }
        }
    }
}
